# 时间复杂度

分析时间复杂度的方式：事后统计法，事前分析法。

## 大 O 复杂度表示法

代码执行需要的时间用时间频度T(n)表示，T(n)与每行代码的执行次数成正比。势必存在一个函数f(n)，代码执行时间T(n)和函数f(n)成正比。

使用大O表示法就是：`T(n) = O(f(n))`，这就是大O时间复杂度表示法。大O时间复杂度实际上并不具体表示代码真正执行的时间，而是表示代码随着输入规模的增长的变化趋势，所以也叫做**渐进时间复杂度**，简称**时间复杂度**。

## 时间复杂度分析

如何分析一段代码的时间复杂度，可以从下面3个方面分析：

* 1.只关注循环执行次数最多的一段代码。
* 2.加法法则：总复杂度等于量级最大的那段代码的复杂度。
* 3.乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积。

## 常见的时间复杂度分析

常见的几种时间复杂度：常数阶O(1)、对数阶O($logn$)、线性阶O(n)、线性对数阶O($nlogn$)、平方阶($n^2$)、立方阶($n^3$)...K次方阶O($n^k$)、指数阶O($2^n$)、阶乘阶O(n!)。

时间复杂度可以粗略的分为两类：多项式量级和非多项式量级，其中O($2^n$)和O(n!)属于非多项式量级。

时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，非多项式时间复杂度的算法其实是非常低效的算法。

## 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

常见的空间复杂度就是 O(1)、O(n)、O($n^2$)，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。

## 最好情况时间复杂度

在最理想的情况下，执行代码的时间复杂度。

## 最坏情况时间复杂度

在最糟糕的情况下，执行代码的时间复杂度。

## 平均情况时间复杂度

平均情况时间复杂度的全称又叫做加权平均时间复杂度或者期望时间复杂度。
用代码在所有情况下执行的次数的加权平均值表示。

> 大多数情况下不需要区分最好、最坏、平均情况时间复杂度，只有一段代码在不同情况下，时间复杂度有量级的差距时，才使用这三种复杂度表示法来区分。

## 均摊时间复杂度

  均摊时间复杂度对应的分析方法为摊还分析或者叫平摊分析。它的应用场景更加特殊、有限。

  平摊分析：

  在代码执行的所有复杂度情况中绝大部分是低级别的复杂度，个别情况是高级别复杂度且发生具有时序关系时，可以将个别高级别复杂度均摊到低级别复杂度上。基本上均摊结果就等于低级别复杂度。
  **均摊时间复杂度就是一种特殊的平均时间复杂度。**

## 如何分析平均、均摊时间复杂度？

* 平均时间复杂度
  代码在不同情况下复杂度出现量级差别，则用代码所有可能情况下执行次数的加权平均值表示。
* 均摊时间复杂度
  两个条件满足时使用：1）代码在绝大多数情况下是低级别复杂度，只有极少数情况是高级别复杂度；2）低级别和高级别复杂度出现具有时序规律。均摊结果一般都等于低级别复杂度。

## 空间换时间，时间换空间

当内存空间充足的时候，如果我们更加追求代码的执行速度，我们就可以选择空间复杂度相对较高，时间复杂度小相对较低的算法和数据结构，缓存就是空间换时间的例子。如果内存比较紧缺，比如代码跑在手机或者单片机上，这时，就要反过来用时间换空间的思路。
