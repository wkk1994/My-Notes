## 分布式事务管理
> 概述

    分布式事务，对于操作的数据不在同一个数据库上(数据过多千万级就要进行分库)，将一次大的操作分成不同的小操作，这些小操作要保证数据库的一致性

> 事务的ACID特性

    原子性 一致性 隔离性 持久性

> 常见分布式解决方案

* <b>基于XA协议的两段提交</b> 

    <font color="#DC143C">成本低但是性能不理想</font>
* <b>消息事务+最终一致性</b> 

    消息事务就是基于消息中间件的两阶段提交，本质上是对消息中间件的一种特殊利用，它是将本地事务和发消息放在了一个分布式事务里，保证要么本地操作成功成功并且对外发消息成功，要么两者都失败
* <b>TCC编程模式</b> 

    两阶段提交的一个变种，TCC提供了一个编程框架，将整个业务逻辑分为三块 ：Try Confirm  Cancel三操作  
    以在线下单为例，Try阶段会去扣库存，Confirm阶段则是去更新订单状态，如果更新订单失败，则进入Cancel阶段，会去恢复库存。 <font color="#DC143C">总之，TCC就是通过代码人为实现了两阶段提交，不同的业务场景所写的代码都不一样，复杂度也不一样，因此，这种模式并不能很好地被复用。</font>

    技术是为业务服务的!!!